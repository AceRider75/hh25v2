<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess Game</title>
    <link rel="stylesheet" href="style.css">

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-database-compat.js"></script>

</head>
<body>
    <div id="connection-info">
        Online: <span id="online-count">?</span>
        <!-- Ping: <span id="ping-display">N/A</span> -->
    </div>
    <div id="game-id-corner">
        Game ID: <span id="game-id-corner-value">N/A</span>
    </div>
    <h1 id="game-title">Chess</h1>

    <!-- Multiplayer Controls -->
    <div id="multiplayer-controls">
        <div class="button-group">
            <button id="createGameBtn">Create New Game</button>
            <button id="joinGameBtn">Join Game</button>
        </div>
        <input type="text" id="gameIdInput" placeholder="Enter Game ID to Join">
        <p id="gameIdDisplay"></p>
    </div>
    <!-- Add Find Match button -->
    <div id="matchmaking-controls" style="margin-bottom: 20px;">
        <button id="findMatchBtn">Find Online Match</button>
        <button id="cancelSearchBtn" style="display: none;">Cancel Search</button>
    </div>

    <div id="board"></div>
    
    <div id="status">White's turn</div>
    
    
    <!-- Promotion Modal -->
    <div id="promotionModal" class="modal">
        <div class="modal-content">
            <h2>Promote Pawn To:</h2>
            <div class="promotion-choices">
                <button id="promote-q"></button>
                <button id="promote-r"></button>
                <button id="promote-b"></button>
                <button id="promote-n"></button>
            </div>
        </div>
    </div>
    <div id="checkmateModal" class="modal">
        <span class="close">&times;</span>
        <div class="modal-content">
            <h2 id="checkmateResult"></h2>
            <div id="winningPiece"></div>
            <button id="continueButton">Continue</button>
        </div>
    </div>

    <!-- Load game logic first -->
    <script src="game_logic.js"></script>
    <!-- Load UI and multiplayer interaction second -->
    <script src="ui_multiplayer.js"></script>
</body>
</html>
